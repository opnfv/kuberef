{
  "comments": [
    {
      "key": {
        "uuid": "a09a6b39_7e5968bd",
        "filename": ".gitlab-ci.yml",
        "patchSetId": 12
      },
      "lineNbr": 21,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-11-12T19:01:14Z",
      "side": 1,
      "message": "xrally_kubernetes and k8s_conformance have longer timeouts which I assume they\u0027re expect to run for few hours, shouldn\u0027t be better to change the order for those jobs?\n\n  - functest-kubernetes-security\n  - functest-kubernetes-benchmarking\n  - functest-kubernetes-smoke\n\nThe major advantage is catch errors quickly instead of waiting some hours",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 36
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "34505576_de48dbe7",
        "filename": ".gitlab-ci.yml",
        "patchSetId": 12
      },
      "lineNbr": 21,
      "author": {
        "id": 7638
      },
      "writtenOn": "2020-11-13T10:24:20Z",
      "side": 1,
      "message": "I think we can change the order, but @Cedric is an expert here. The health check should be the first one for sure \u0026 it executes quickly as well, but others could be sorted by ascending execution times.",
      "parentUuid": "a09a6b39_7e5968bd",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 36
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a566d1e1_a968214a",
        "filename": ".gitlab-ci.yml",
        "patchSetId": 12
      },
      "lineNbr": 21,
      "author": {
        "id": 3405
      },
      "writtenOn": "2020-11-13T14:27:57Z",
      "side": 1,
      "message": "From my OpenStack experiences, we shouldn\u0027t mix benchmarking and smoke and in a long run K8s smoke should grow quickly (pending e2e analysis). I would have kept this approach for the time being.",
      "parentUuid": "34505576_de48dbe7",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 36
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9510aafb_a9ec2df8",
        "filename": ".gitlab-ci.yml",
        "patchSetId": 12
      },
      "lineNbr": 21,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-11-13T16:05:35Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "a566d1e1_a968214a",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 36
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f480364f_279f6d68",
        "filename": ".gitlab-ci.yml",
        "patchSetId": 12
      },
      "lineNbr": 37,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-11-12T19:01:14Z",
      "side": 1,
      "message": "Is it possible to define the OPNFV release in a variables section? Something like:\n\n    OPNFV_RELEASE: jerma",
      "range": {
        "startLine": 37,
        "startChar": 47,
        "endLine": 37,
        "endChar": 52
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43e072fb_1487ed63",
        "filename": ".gitlab-ci.yml",
        "patchSetId": 12
      },
      "lineNbr": 37,
      "author": {
        "id": 7638
      },
      "writtenOn": "2020-11-13T10:24:20Z",
      "side": 1,
      "message": "Good proposal, will check this",
      "parentUuid": "f480364f_279f6d68",
      "range": {
        "startLine": 37,
        "startChar": 47,
        "endLine": 37,
        "endChar": 52
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "96a25b55_004f41c3",
        "filename": "functions.sh",
        "patchSetId": 12
      },
      "lineNbr": 201,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-11-12T19:01:14Z",
      "side": 1,
      "message": "Kubespray creates the kubeconfig file with inventory/artifacts/admin.conf file, so if BMRA uses Kubespray this file should be located in ${PROJECT_ROOT}/container-experience-kits/artifacts  jumpbox\u0027s folder",
      "range": {
        "startLine": 197,
        "startChar": 0,
        "endLine": 201,
        "endChar": 3
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ad1f5c8_9e625e59",
        "filename": "functions.sh",
        "patchSetId": 12
      },
      "lineNbr": 206,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-11-12T19:01:14Z",
      "side": 1,
      "message": "nit: indentation",
      "range": {
        "startLine": 203,
        "startChar": 0,
        "endLine": 206,
        "endChar": 57
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c1bd360d_a1f1e202",
        "filename": "functions.sh",
        "patchSetId": 12
      },
      "lineNbr": 206,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-11-12T19:01:14Z",
      "side": 1,
      "message": "I think that the /home/opnfv/ folder needs to be replaced for \"$CURRENTPATH\" or something else",
      "range": {
        "startLine": 206,
        "startChar": 19,
        "endLine": 206,
        "endChar": 31
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4041730_4f0be876",
        "filename": "functions.sh",
        "patchSetId": 12
      },
      "lineNbr": 206,
      "author": {
        "id": 7638
      },
      "writtenOn": "2020-11-13T10:24:20Z",
      "side": 1,
      "message": "If I am not wrong, the functest containers by default look for the config and credentials in /home/opnfv/functest-kubernetes which should be setup in advance (will confirm from @Cedric). I can try to assign the path to a variable, but I think it should be the same for every CI host. Also, once everything is figured out, I will add the details in documentation (CNTT RI2 Chapter 4 Validation).",
      "parentUuid": "c1bd360d_a1f1e202",
      "range": {
        "startLine": 206,
        "startChar": 19,
        "endLine": 206,
        "endChar": 31
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0b4dfd5_df68027b",
        "filename": "functions.sh",
        "patchSetId": 12
      },
      "lineNbr": 206,
      "author": {
        "id": 3405
      },
      "writtenOn": "2020-11-13T14:27:57Z",
      "side": 1,
      "message": "That\u0027s the right dir. /home/opnfv/functest-kubernetes/config\nI\u0027m wondering if we do leverage job artifacts but it would ask for smooth adaptations (GitlabCI chroots the artifacts)",
      "parentUuid": "f4041730_4f0be876",
      "range": {
        "startLine": 206,
        "startChar": 19,
        "endLine": 206,
        "endChar": 31
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24f0dea0_aed1b91e",
        "filename": "functions.sh",
        "patchSetId": 12
      },
      "lineNbr": 206,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-11-13T16:05:35Z",
      "side": 1,
      "message": "If I understand correctly this function copies the kubeconfig from one master to the host server so my only concern is the existence of the destination folder. We need to guarantee that the folder exists (maybe adding a validation in the check_prerequisites function) and also this can be improved running in a single command\n\n    sudo scp \"$USERNAME\"@\"$(get_vm_ip)\":\"${PROJECT_ROOT}\"/kubeconfig /home/opnfv/functest-kubernetes/config",
      "parentUuid": "a0b4dfd5_df68027b",
      "range": {
        "startLine": 206,
        "startChar": 19,
        "endLine": 206,
        "endChar": 31
      },
      "revId": "b9d029e3e4afc806426a29cef414212267ad3600",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    }
  ]
}