{
  "comments": [
    {
      "key": {
        "uuid": "d2324614_117bd8ca",
        "filename": "create_vm.sh",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-07-29T14:59:05Z",
      "side": 1,
      "message": "This file is missing the copyright header",
      "revId": "96a32f75951443e0c7ad237b8b3f00a358a7da34",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c81570b3_cd73945b",
        "filename": "create_vm.sh",
        "patchSetId": 5
      },
      "lineNbr": 3,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-07-29T14:59:05Z",
      "side": 1,
      "message": "sudo mkdir -p /var/lib/libvirt/images/$1",
      "revId": "96a32f75951443e0c7ad237b8b3f00a358a7da34",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d979a2d6_f51ec500",
        "filename": "create_vm.sh",
        "patchSetId": 5
      },
      "lineNbr": 4,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-07-29T14:59:05Z",
      "side": 1,
      "message": "It\u0027s possible to include the size of the image in the creation\n\nsudo qemu-img create -f qcow2 \\\n    -o backing_file\u003d/var/lib/libvirt/images/ubuntu-18.04.qcow2 \\\n    /var/lib/libvirt/images/$1/\"$1\".qcow2 10G",
      "revId": "96a32f75951443e0c7ad237b8b3f00a358a7da34",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "499c0942_d82eaae0",
        "filename": "create_vm.sh",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-07-29T14:59:05Z",
      "side": 1,
      "message": "user-data and meta-data files can be autogenerated before the execution of this instruction\n\ncat \u003c\u003cEOL \u003e user-data\n#cloud-config\nusers:\n  - name: ubuntu\n    ssh-authorized-keys:\n      - $(cat $HOME/.ssh/id_rsa.pub)\n    sudo: [\u0027ALL\u003d(ALL) NOPASSWD:ALL\u0027]\n    groups: sudo\n    shell: /bin/bash\nEOL\ncat \u003c\u003cEOL \u003e meta-data\nlocal-hostname: jump\nEOL",
      "range": {
        "startLine": 7,
        "startChar": 91,
        "endLine": 7,
        "endChar": 116
      },
      "revId": "96a32f75951443e0c7ad237b8b3f00a358a7da34",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b21993c0_6b07d8f0",
        "filename": "create_vm.sh",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-07-29T14:59:05Z",
      "side": 1,
      "message": "The virtualization type can be omitted. KVM is not essential for the creation of the jumpbox",
      "range": {
        "startLine": 9,
        "startChar": 43,
        "endLine": 9,
        "endChar": 58
      },
      "revId": "96a32f75951443e0c7ad237b8b3f00a358a7da34",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93f0b668_cc355e7b",
        "filename": "functions.sh",
        "patchSetId": 5
      },
      "lineNbr": 15,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-07-29T14:59:05Z",
      "side": 1,
      "message": "I prefer to split this if in two to cover different scenarios\n\n    if sudo virsh list --all | grep \"${VM_NAME}.*running\" ; then\n        sudo virsh destroy $VM_NAME\n    fi\n    if sudo virsh list --all | grep \"${VM_NAME}\" ; then\n        sudo virsh undefine $VM_NAME\n    fi",
      "range": {
        "startLine": 15,
        "startChar": 4,
        "endLine": 15,
        "endChar": 66
      },
      "revId": "96a32f75951443e0c7ad237b8b3f00a358a7da34",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "adbcb746_b82efc26",
        "filename": "functions.sh",
        "patchSetId": 5
      },
      "lineNbr": 54,
      "author": {
        "id": 7019
      },
      "writtenOn": "2020-07-29T14:59:05Z",
      "side": 1,
      "message": "It\u0027s necessary to ensure the existence of the deployment_image.qcow2 file until it\u0027s fixed.\n\n    # Ensure that filename of the image to deploy exists (Bifrost deploy_image_filename variable)\n    if [ ! -f $CURRENTPATH/deployment_image.qcow2 ]; then\n        curl -o $CURRENTPATH/deployment_image.qcow2.xz https://cloud.centos.org/centos/7/images/CentOS-7-x86_64-GenericCloud.qcow2.xz\n        unxz $CURRENTPATH/deployment_image.qcow2.xz\n    fi",
      "range": {
        "startLine": 54,
        "startChar": 94,
        "endLine": 54,
        "endChar": 116
      },
      "revId": "96a32f75951443e0c7ad237b8b3f00a358a7da34",
      "serverId": "bbac25d2-bf60-4904-9ba8-a72fc000d6c5",
      "unresolved": true
    }
  ]
}